<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Palmistry ¬∑ Results & Reports</title>
<base href="/Liberation/palmistry/">
<style>
:root{--bg:#0b0f16;--pri:#16f0a7;--neon:#00e5ff}
body{margin:0;background:var(--bg);color:#e6f0ff;font-family:system-ui;text-align:center}
h1{color:var(--neon);margin:18px 0}
nav{display:flex;justify-content:center;gap:10px;margin:10px 0}
a.btn{background:#111;color:var(--neon);border:1px solid var(--neon);
border-radius:16px;padding:8px 14px;text-decoration:none;font-weight:600}
a.btn:hover{background:var(--neon);color:#000}
table{margin:20px auto;border-collapse:collapse;width:90%;max-width:500px}
th,td{border:1px solid var(--pri);padding:8px}
th{background:#101820;color:var(--neon)}
td{background:#0e131a}
button{margin-top:16px;padding:8px 20px;border:none;border-radius:10px;
background:var(--pri);font-weight:600}
</style>
</head>
<body>
<h1>üìä AI Results & Reports</h1>
<nav>
  <a href="index.html" class="btn">Lab Home</a>
  <a href="palmistry.html" class="btn">Analyzer</a>
  <a href="detect.html" class="btn">AI Detection</a>
</nav>

<table>
<tr><th>Line</th><th>Condition</th><th>Meaning</th></tr>
<tr><td>Heart</td><td>Strong</td><td>Emotional depth, sensitivity</td></tr>
<tr><td>Head</td><td>Balanced</td><td>Clear thinking, wisdom</td></tr>
<tr><td>Life</td><td>Long</td><td>Vitality, endurance</td></tr>
<tr><td>Fate</td><td>Visible</td><td>Purpose-driven life</td></tr>
<tr><td>Sun</td><td>Distinct</td><td>Creativity, fame</td></tr>
<tr><td>Mercury</td><td>Sharp</td><td>Health & communication</td></tr>
<tr><td>Marriage</td><td>Dual</td><td>Emotional connection</td></tr>
</table>

<button onclick="window.print()">üñ®Ô∏è Generate PDF Report</button>

<p style="margin-top:20px;opacity:.7;font-size:13px;">
¬© Sathyadarshana Palmistry Lab ¬∑ AI Research Unit
</p>
</body><script>
(function loadResults(){
  const key = 'palmistryResults';
  const data = JSON.parse(localStorage.getItem(key) || '[]');

  const tbl = document.querySelector('table');
  // clear current rows except header
  while (tbl.rows.length > 1) tbl.deleteRow(1);

  if (!data.length){
    const row = tbl.insertRow();
    row.innerHTML = `<td colspan="3" style="text-align:center;opacity:.7">No saved results yet. Analyze first.</td>`;
    return;
  }

  // latest one show as detail rows
  const latest = data[0];
  const map = latest.lines || {};
  const pretty = {
    heart:'Heart', head:'Head', life:'Life', fate:'Fate',
    sun:'Sun', mercury:'Mercury', marriage:'Marriage'
  };
  Object.keys(pretty).forEach(k=>{
    const row = tbl.insertRow();
    row.innerHTML = `<td>${pretty[k]}</td><td>${map[k]||'-'}</td><td>${latest.summary||'-'}</td>`;
  });

  // history list (optional)
  const hist = document.createElement('div');
  hist.style.cssText='max-width:520px;margin:14px auto;opacity:.85';
  hist.innerHTML = `<small>History: ${data.length} record(s). Latest: ${new Date(latest.ts).toLocaleString()}</small>`;
  tbl.parentElement.appendChild(hist);

  // add controls
  const bar = document.createElement('div');
  bar.style.cssText='margin:10px auto;display:flex;gap:8px;justify-content:center';
  bar.innerHTML = `
    <button id="dljson">‚¨áÔ∏è Download JSON</button>
    <button id="clear">üóëÔ∏è Clear History</button>
  `;
  tbl.parentElement.appendChild(bar);

  document.getElementById('dljson').onclick = ()=>{
    const blob = new Blob([JSON.stringify(data,null,2)], {type:'application/json'});
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'palmistry_results.json';
    a.click();
  };
  document.getElementById('clear').onclick = ()=>{
    if (confirm('Clear all saved results?')){
      localStorage.removeItem(key);
      location.reload();
    }
  };
})();
</script>
</html>
