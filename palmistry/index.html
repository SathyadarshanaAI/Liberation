<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ–ï¸ Sathyadarshana Quantum Palm Analyzer Â· V12.6 High Feature Edition</title>
<style>
:root{
  --bg:#0b0f16;
  --card:#111a22;
  --neon:#00e5ff;
  --pri:#16f0a7;
  --gold:#ffb300;
}
body{
  margin:0;
  background:var(--bg);
  color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;
  text-align:center;
}
h1{
  color:var(--neon);
  margin:20px 0 6px;
  font-size:1.6rem;
  text-shadow:0 0 15px var(--neon);
}
.wrap{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:24px;
  margin:20px auto;
}
.camCol{
  background:var(--card);
  border-radius:18px;
  padding:14px;
  width:90%;
  max-width:340px;
  position:relative;
  box-shadow:0 0 12px rgba(0,255,255,0.1);
}
video,canvas{
  width:100%;
  border-radius:14px;
  background:#000;
}
.camBtns{
  margin-top:10px;
}
button{
  background:#101820;
  color:var(--neon);
  border:1px solid var(--neon);
  border-radius:10px;
  padding:6px 12px;
  margin:3px;
  font-weight:600;
  transition:.25s;
}
button:hover{background:var(--neon);color:#000;}
#status{margin:12px;color:var(--pri);font-weight:bold;}
.rangeBox{margin:8px;}
input[type="range"]{width:80%;}
.reportBox{
  background:#0e141b;
  border-radius:12px;
  padding:10px;
  margin:12px auto;
  max-width:600px;
  color:#fff;
}
</style>
</head>
<body>
<h1>ğŸ–ï¸ Sathyadarshana Quantum Palm Analyzer Â· V12.6 High Feature Edition</h1>
<p id="status">Initializing...</p>

<div class="wrap">
  <!-- Left Hand -->
  <div class="camCol">
    <h3>Left Hand</h3>
    <video id="vidLeft" autoplay playsinline></video>
    <canvas id="canvasLeft" width="300" height="400"></canvas>
    <div class="camBtns">
      <button id="startCamLeft">ğŸ“· Start</button>
      <button id="captureLeft">ğŸ“¸ Capture</button>
    </div>
  </div>

  <!-- Right Hand -->
  <div class="camCol">
    <h3>Right Hand</h3>
    <video id="vidRight" autoplay playsinline></video>
    <canvas id="canvasRight" width="300" height="400"></canvas>
    <div class="camBtns">
      <button id="startCamRight">ğŸ“· Start</button>
      <button id="captureRight">ğŸ“¸ Capture</button>
    </div>
  </div>
</div>

<div class="rangeBox">
  ğŸŒ Brightness:
  <input type="range" id="brightness" min="0.2" max="2" step="0.1" value="1">
</div>

<div class="reportBox" id="report">
  Your palms are being scanned by AI Buddhi...
</div>

<div>
  <button id="saveUser">ğŸ’¾ Save User</button>
  <button id="pdfBtn">ğŸ“„ Download PDF</button>
  <button id="speakBtn">ğŸ”Š Speak</button>
  <button id="homeBtn">ğŸ  Home</button>
  <button id="liveBtn">ğŸ§˜ Live</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script>
const $=id=>document.getElementById(id);
let streamL,streamR;

async function startCam(side){
  const vid=side==="left"?$("vidLeft"):$("vidRight");
  const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
  vid.srcObject=st;
  if(side==="left")streamL=st;else streamR=st;
  $("status").textContent=`${side} camera started âœ…`;
}

function capture(side){
  const vid=side==="left"?$("vidLeft"):$("vidRight");
  const cvs=side==="left"?$("canvasLeft"):$("canvasRight");
  const ctx=cvs.getContext("2d");
  ctx.drawImage(vid,0,0,cvs.width,cvs.height);
  cvs.classList.add("lockedImg");
  $("status").textContent=`${side} hand captured ğŸ”’`;
  checkReady();
}

function checkReady(){
  if($("canvasLeft").classList.contains("lockedImg") &&
     $("canvasRight").classList.contains("lockedImg")){
    showReport();
  }
}

function blackout(){
  document.querySelectorAll(".lockedImg").forEach(el=>el.style.filter="brightness(0)");
  [streamL,streamR].forEach(s=>s?.getTracks().forEach(t=>t.stop()));
}

function showReport(){
  const r=$("report");
  r.innerHTML="âœ¨ Dual-hand harmony detected.<br>AI Buddhi senses balanced energy fields.<br>Wisdom alignment: <b>High</b> âš¡";
  speak(r.innerText);
}

function speak(t){speechSynthesis.speak(new SpeechSynthesisUtterance(t));}

$("startCamLeft").onclick=()=>startCam("left");
$("captureLeft").onclick=()=>capture("left");
$("startCamRight").onclick=()=>startCam("right");
$("captureRight").onclick=()=>capture("right");

$("brightness").oninput=()=>{const v=$("brightness").value;
  document.querySelectorAll("video").forEach(vd=>vd.style.filter=`brightness(${v})`);
};

$("saveUser").onclick=()=>{
 const name=prompt("Enter your name:","");
 const dob=prompt("Enter date of birth:","");
 const id=prompt("Enter ID or NIC:","");
 localStorage.setItem("userData",JSON.stringify({name,dob,id}));
 alert("âœ… Saved: "+name);
};

$("pdfBtn").onclick=()=>{
 const { jsPDF }=window.jspdf;
 const d=JSON.parse(localStorage.getItem("userData")||"{}");
 const doc=new jsPDF();
 doc.text("Sathyadarshana Quantum Palm Analyzer Report",10,15);
 doc.text(`Name: ${d.name||"N/A"}`,10,25);
 doc.text(`DOB: ${d.dob||"N/A"}`,10,33);
 doc.text(`ID: ${d.id||"N/A"}`,10,41);
 doc.text("âœ¨ Dual-hand scan complete. AI Buddhi verified balance.",10,55);
 doc.save("AI_Palm_Report.pdf");
};

$("speakBtn").onclick=()=>speak($("report").innerText);
$("homeBtn").onclick=()=>location.href='index.html';
$("liveBtn").onclick=()=>alert("ğŸ§˜ AI Buddhi Live Session will open soon...");
</script>
</body>
</html>
