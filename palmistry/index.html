<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ•‰ï¸ Sathyadarshana Quantum Palm Analyzer V3.0 â€” Twin Vision Edition</title>
<link rel="icon" href="./assets/icon.png">
<style>
body{margin:0;background:#0b0f16;color:#e6f0ff;font-family:'Segoe UI',sans-serif;text-align:center;}
h1{color:#00e5ff;text-shadow:0 0 12px #00e5ff;margin:10px 0;}
.wrap{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin:20px}
.camBox{background:#101820;border-radius:16px;padding:12px;width:90%;max-width:380px;box-shadow:0 0 10px #0007;}
video,canvas{width:100%;border-radius:12px;}
button{background:#00e5ff;color:#000;padding:8px 20px;margin:8px;border:none;border-radius:10px;font-weight:bold;cursor:pointer;box-shadow:0 0 10px #00e5ff;transition:0.3s;}
button:hover{box-shadow:0 0 20px #16f0a7;}
#msg{margin-top:10px;color:#16f0a7}
.error{color:#ff6b6b}
</style>
</head>
<body>
<h1>ğŸ•‰ï¸ Sathyadarshana Quantum Palm Analyzer V3.0 â€” Twin Vision Edition</h1>

<div class="wrap">
  <div class="camBox">
    <h3>ğŸŒ— Left Hand</h3>
    <video id="videoLeft" autoplay playsinline></video>
    <canvas id="canvasLeft" hidden></canvas>
    <button id="startLeft">ğŸ“· Start Left</button>
    <button id="captureLeft">âœ‹ Capture Left</button>
  </div>

  <div class="camBox">
    <h3>ğŸŒ• Right Hand</h3>
    <video id="videoRight" autoplay playsinline></video>
    <canvas id="canvasRight" hidden></canvas>
    <button id="startRight">ğŸ“· Start Right</button>
    <button id="captureRight">âœ‹ Capture Right</button>
  </div>
</div>

<div>
  <button id="analyzeBtn">ğŸ”® Analyze Both Hands</button>
  <p id="msg">Awaiting capture...</p>
</div>

<script type="module" src="./main.js"></script>
</body>
  <script>
(function(){
  const logBox = document.createElement("div");
  logBox.id = "buddhiFusion";
  logBox.innerHTML = `
    <div id="bfHeader">ğŸ§  Buddhi Fusion Monitor v6.0 
      <button id="bfToggle">â¬‡</button>
      <button id="bfSave">ğŸ’¾</button>
    </div>
    <div id="bfBody">Initializing...</div>`;
  logBox.style.cssText = `
    position:fixed;bottom:10px;left:10px;right:10px;
    background:rgba(0,0,0,.9);color:#16f0a7;
    font-family:monospace;font-size:12px;border:1px solid #00e5ff;
    border-radius:10px;z-index:999999;box-shadow:0 0 12px #00e5ff;`;
  document.body.appendChild(logBox);
  const body = logBox.querySelector("#bfBody");
  const toggle = logBox.querySelector("#bfToggle");
  const save = logBox.querySelector("#bfSave");

  let collapsed = false;
  toggle.onclick = () => {
    collapsed = !collapsed;
    body.style.display = collapsed ? "none" : "block";
    toggle.textContent = collapsed ? "â¬†" : "â¬‡";
  };

  save.onclick = () => {
    const blob = new Blob([body.innerText], {type:"text/plain"});
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "buddhi_log.txt";
    a.click();
  };

  function log(msg){
    const t = new Date().toLocaleTimeString();
    body.innerHTML += `<div>[${t}] ${msg}</div>`;
    body.scrollTop = body.scrollHeight;
  }

  window.onerror = (m,s,l)=>log(`âŒ ${m} @${l}`);
  window.addEventListener("unhandledrejection", e => log(`âš ï¸ ${e.reason?.message||e.reason}`));
  log("âœ… Buddhi Fusion Monitor initialized.");

  // live module check
  setInterval(()=>{
    try{
      if(window.modulesLoaded){
        log("ğŸ§© Modules verified: "+Object.keys(window.modulesLoaded).length);
      }else{
        log("âš™ï¸ Checking system integrity...");
      }
    }catch(e){ log("â—Check error: "+e.message); }
  },2000);
})();
</script>
</html>
