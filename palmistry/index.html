<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>🕉️ Sathyadarshana Quantum Palm Analyzer · V13.2 Dual Window Analyzer</title>
<style>
:root{
 --bg:#0b0f16;--card:#111a22;--neon:#00e5ff;--pri:#16f0a7;
 --gold:#FFD700;--cyan:#00ffff;
}
body{margin:0;background:var(--bg);color:#e6f0ff;font-family:'Segoe UI',sans-serif;text-align:center;}
h1{color:var(--neon);margin:20px 0 8px;font-size:1.5rem;text-shadow:0 0 15px var(--neon);}
.wrap{display:flex;flex-wrap:wrap;justify-content:center;gap:24px;margin:20px auto;}
.camCol{background:var(--card);border-radius:18px;padding:14px;width:90%;max-width:340px;
 position:relative;box-shadow:0 0 12px rgba(0,255,255,0.15);}
video,canvas{width:100%;border-radius:14px;background:#000;}
.camBtns{margin-top:10px;}
button{background:#101820;color:var(--neon);border:1px solid var(--neon);
 border-radius:10px;padding:6px 12px;margin:3px;font-weight:600;transition:.25s;}
button:hover{background:var(--neon);color:#000;}
#status{margin:12px;color:var(--pri);font-weight:bold;}
.reportBox{background:#0e141b;border-radius:12px;padding:10px;margin:12px auto;
 max-width:600px;color:#fff;}
.beam{position:absolute;top:0;left:0;width:100%;height:8px;
 background:linear-gradient(to bottom,
 rgba(255,215,0,0),rgba(255,215,0,1),rgba(0,255,255,0.7),rgba(255,215,0,0));
 box-shadow:0 0 25px 4px var(--gold);border-radius:4px;animation:beamMove 3s linear forwards;}
@keyframes beamMove{0%{transform:translateY(0);opacity:1;}100%{transform:translateY(100%);opacity:0;}}
.flashFreeze{animation:flash 0.4s ease-out;}
@keyframes flash{0%{filter:brightness(2);}100%{filter:brightness(1);}}
</style>
</head>
<body>
<h1>🕉️ Sathyadarshana Quantum Palm Analyzer · V13.2 Dual Window Analyzer</h1>
<p id="status">Initializing...</p>

<div class="wrap">
 <div class="camCol">
  <h3>Left Hand</h3>
  <video id="vidLeft" autoplay playsinline></video>
  <canvas id="canvasLeft" width="300" height="400"></canvas>
  <div class="camBtns">
   <button id="startCamLeft">📷 Start</button>
   <button id="captureLeft">📸 Capture</button>
  </div>
 </div>

 <div class="camCol">
  <h3>Right Hand</h3>
  <video id="vidRight" autoplay playsinline></video>
  <canvas id="canvasRight" width="300" height="400"></canvas>
  <div class="camBtns">
   <button id="startCamRight">📷 Start</button>
   <button id="captureRight">📸 Capture</button>
  </div>
 </div>
</div>

<div class="reportBox" id="report">
 Your palms are being scanned by AI Buddhi...
</div>

<script>
const $=id=>document.getElementById(id);
let streamL,streamR;

async function startCam(side){
 const vid=side==="left"?$("vidLeft"):$("vidRight");
 const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
 vid.srcObject=st;
 if(side==="left")streamL=st;else streamR=st;
 $("status").textContent=`${side} camera started ✅`;
}

// ---- CAPTURE FUNCTION ----
async function capture(side){
 const vid=side==="left"?$("vidLeft"):$("vidRight");
 const cvs=side==="left"?$("canvasLeft"):$("canvasRight");
 const ctx=cvs.getContext("2d");

 vid.classList.add("flashFreeze");
 setTimeout(()=>vid.classList.remove("flashFreeze"),400);
 await new Promise(r=>setTimeout(r,150));

 ctx.drawImage(vid,0,0,cvs.width,cvs.height);
 cvs.classList.add("lockedImg");
 $("status").textContent=`${side} hand captured 🔒`;

 // check both hands ready
 if($("canvasLeft").classList.contains("lockedImg") &&
    $("canvasRight").classList.contains("lockedImg")){
   runSequence();
 }
}

// ---- MAIN AI SEQUENCE ----
async function runSequence(){
 $("status").textContent="🧠 Analyzing captured palms...";
 await pause(1000);

 // Beam animation
 const beamL=document.createElement("div"),beamR=document.createElement("div");
 beamL.className=beamR.className="beam";
 $("canvasLeft").parentElement.appendChild(beamL);
 $("canvasRight").parentElement.appendChild(beamR);
 await pause(3000);
 beamL.remove();beamR.remove();

 // Draw golden lines
 drawPalm($("canvasLeft").getContext("2d"));
 drawPalm($("canvasRight").getContext("2d"));

 $("status").textContent="✨ Beam Aura complete — main palm lines detected!";
 const rep=$("report");
 rep.innerHTML="⚡ Dual-hand capture complete.<br>Energy lines mapped successfully.<br>Wisdom level: <b>High</b> 🌟";
 speak(rep.innerText);
}

// ---- PALM LINES DRAW ----
function drawPalm(ctx){
 const w=ctx.canvas.width,h=ctx.canvas.height;
 const lines=[
  {p:[[w*0.2,h*0.7],[w*0.8,h*0.5]],n:"Life"},
  {p:[[w*0.3,h*0.8],[w*0.7,h*0.6]],n:"Fate"},
  {p:[[w*0.2,h*0.4],[w*0.8,h*0.4]],n:"Head"},
  {p:[[w*0.3,h*0.3],[w*0.8,h*0.2]],n:"Heart"},
  {p:[[w*0.6,h*0.2],[w*0.8,h*0.1]],n:"Sun"},
  {p:[[w*0.5,h*0.9],[w*0.6,h*0.7]],n:"Health"},
  {p:[[w*0.7,h*0.6],[w*0.9,h*0.7]],n:"Marriage"},
  {p:[[w*0.4,h*0.1],[w*0.6,h*0.3]],n:"Manikanda"}
 ];
 lines.forEach(L=>{
   ctx.beginPath();
   const grad=ctx.createLinearGradient(L.p[0][0],L.p[0][1],L.p[1][0],L.p[1][1]);
   grad.addColorStop(0,"#FFD700");
   grad.addColorStop(1,"#00FFFF");
   ctx.strokeStyle=grad;ctx.lineWidth=2.5;ctx.shadowColor="#FFD700";
   ctx.shadowBlur=5;ctx.moveTo(...L.p[0]);ctx.lineTo(...L.p[1]);ctx.stroke();
   ctx.shadowBlur=0;ctx.fillStyle="#00e5ff";ctx.font="10px Segoe UI";
   ctx.fillText(L.n,L.p[1][0]-25,L.p[1][1]-3);
 });
}

function pause(ms){return new Promise(r=>setTimeout(r,ms));}
function speak(t){speechSynthesis.speak(new SpeechSynthesisUtterance(t));}

// ---- BUTTONS ----
$("startCamLeft").onclick=()=>startCam("left");
$("captureLeft").onclick=()=>capture("left");
$("startCamRight").onclick=()=>startCam("right");
$("captureRight").onclick=()=>capture("right");
</script>
</body>
</html>
