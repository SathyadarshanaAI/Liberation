<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sathyadarshana Quantum Palm Analyzer V10.8 · Serenity Voice Edition</title>
<link rel="icon" href="./assets/icon.png" />
<style>
:root{
  --bg:#0b0f16;--card:#101820;--neon:#00e5ff;--pri:#16f0a7;
}
body{
  margin:0;background:var(--bg);color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;text-align:center;
}
h1{color:var(--neon);margin-top:20px;text-shadow:0 0 14px var(--neon);}
#status{margin:10px;color:var(--pri);}
#reportBox{margin:16px auto;font-size:1.05em;max-width:640px;}
.cam-grid{
  display:flex;flex-wrap:wrap;justify-content:center;gap:20px;
  margin:20px auto;max-width:780px;
}
.cam-section{
  background:var(--card);border-radius:16px;padding:18px;
  width:340px;box-shadow:0 0 14px #00e5ff80;
  transition:0.3s;
}
.cam-section:hover{transform:scale(1.02);box-shadow:0 0 24px #00e5ff;}
h3{color:var(--pri);margin-bottom:10px;text-shadow:0 0 10px #16f0a7;}
video,canvas{
  width:100%;height:auto;border-radius:10px;
  border:1px solid var(--pri);background:#000;
}
canvas{display:none;}
button{
  background:#00e5ff20;border:1px solid #00e5ff;color:#e6f0ff;
  border-radius:10px;margin:6px;padding:8px 16px;cursor:pointer;
  transition:0.3s;
}
button:hover{background:#00e5ff40;box-shadow:0 0 12px var(--neon);}
.ai-panel{margin-top:25px;}
footer{margin:25px 0;font-size:0.9em;color:#aaa;}
.flash{animation:flash 1s infinite alternate;}
@keyframes flash{from{opacity:1;}to{opacity:0.5;}}
</style>
</head>
<body>
<h1>Sathyadarshana Quantum Palm Analyzer</h1>
<p id="status">Initializing modules...</p>
<div id="reportBox">Report will appear here...</div>

<div class="cam-grid">
  <div class="cam-section" id="leftHand">
    <h3>Left Hand</h3>
    <video id="vid-left" autoplay playsinline muted></video><br/>
    <canvas id="canvas-left" width="480" height="640"></canvas><br/>
    <button onclick="import('./modules/camera.js').then(m=>m.startCamera('left'))">Start Left</button>
    <button onclick="import('./modules/camera.js').then(m=>m.capture('left'))">Capture Left</button>
  </div>

  <div class="cam-section" id="rightHand">
    <h3>Right Hand</h3>
    <video id="vid-right" autoplay playsinline muted></video><br/>
    <canvas id="canvas-right" width="480" height="640"></canvas><br/>
    <button onclick="import('./modules/camera.js').then(m=>m.startCamera('right'))">Start Right</button>
    <button onclick="import('./modules/camera.js').then(m=>m.capture('right'))">Capture Right</button>
  </div>
</div>

<div class="ai-panel" id="aiPanel" style="display:none;">
  <button id="analyzeBtn">AI Analyze Report</button>
  <button id="fullBtn">Full Report (PDF)</button>
  <button id="discussBtn">Live AI Discussion</button>
  <button id="translateBtn">Translate (12 Langs)</button>
</div>

<footer>Powered by AI Buddhi · Sathyadarshana Modular Core V10.8 · Serenity Voice Edition</footer>

<!-- Buddhi Live Monitor Panel -->
<div id="buddhiConsole" style="
  position:fixed;bottom:0;left:0;width:100%;
  background:#000c;border-top:1px solid #00e5ff60;
  color:#00e5ff;font-size:12px;
  font-family:monospace;max-height:120px;overflow-y:auto;
  padding:6px 8px;text-align:left;z-index:9999;
  backdrop-filter:blur(6px);
"></div>

<!-- Voice Status Light -->
<div id="voiceStatus" style="
  position:fixed;top:8px;right:8px;
  width:14px;height:14px;border-radius:50%;
  background:#777;box-shadow:0 0 8px #000;
  border:1px solid #111;z-index:99999;
"></div>

<script type="module">
console.clear();
const con=document.getElementById("buddhiConsole");
const vlight=document.getElementById("voiceStatus");

function logLine(txt,col="#00e5ff"){
  const el=document.createElement("div");
  el.textContent=txt;
  el.style.color=col;
  con.appendChild(el);
  con.scrollTop=con.scrollHeight;
}

window.addEventListener("error",e=>logLine("ERROR: "+e.message,"#ff6b6b"));
window.addEventListener("unhandledrejection",e=>logLine("REJECTED: "+(e.reason?.message||e.reason),"#ff6b6b"));

function trace(evt,data){
  logLine("Event: "+evt+" → "+JSON.stringify(data));
}
window.BuddhiLog=trace;

logLine("Buddhi Live Monitor Panel active v10.8");
logLine("Voice: Silent");

// Voice bubble updater
window.setVoiceStatus=(state)=>{
  switch(state){
    case "speak":
      vlight.style.background="#16f0a7";
      logLine("Voice: Speaking");
      break;
    case "silent":
      vlight.style.background="#777";
      logLine("Voice: Silent");
      break;
    case "error":
      vlight.style.background="#ff5555";
      logLine("Voice: Error");
      break;
  }
};
</script>

<script type="module" src="./main.js"></script>
</body>
</html>
