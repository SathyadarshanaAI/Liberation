<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>🖐️ Sathyadarshana Quantum Palm Analyzer · V9.6 Dual-Hand Intelligence</title>
<link rel="icon" href="./assets/icon.png" />
<style>
:root { --bg:#0b0f16; --card:#101820; --neon:#00e5ff; --pri:#16f0a7; }
body {
  margin:0; background:var(--bg); color:#e6f0ff;
  font-family:'Segoe UI',sans-serif; text-align:center;
}
h1 { color:var(--neon); margin-top:20px; text-shadow:0 0 12px var(--neon); }
.wrap { display:flex; flex-wrap:wrap; justify-content:center; gap:20px; margin:20px auto; }
.camCol {
  background:var(--card); border-radius:20px; padding:16px;
  width:90%; max-width:340px; box-shadow:0 0 14px #000;
}
video,canvas {
  width:100%; border-radius:12px; background:#000; object-fit:contain;
}
button {
  margin:6px; padding:8px 16px; border:none; border-radius:8px;
  background:var(--neon); color:#000; font-weight:600; cursor:pointer;
  box-shadow:0 0 10px var(--neon); transition:0.2s;
}
button:active { transform:scale(0.94); }
#status { margin-top:15px; color:var(--pri); font-weight:500; }
#reportBox {
  background:#0f172a; color:#e0f2fe; margin:20px auto; padding:14px;
  width:90%; max-width:680px; border-radius:12px;
  box-shadow:0 0 15px #00e5ff80; text-align:left; white-space:pre-wrap;
}
</style>
</head>
<body>
<h1>🕉️ Sathyadarshana Quantum Palm Analyzer V9.6</h1>

<div class="wrap">
  <!-- LEFT HAND -->
  <div class="camCol">
    <h3>Left Hand (පෙර භවය)</h3>
    <video id="vidLeft" autoplay playsinline></video>
    <canvas id="canvasLeft"></canvas><br>
    <button id="startLeft">📷 Start</button>
    <button id="captureLeft">📸 Capture</button>
    <button id="torchLeft">🔦 Torch</button>
  </div>

  <!-- RIGHT HAND -->
  <div class="camCol">
    <h3>Right Hand (මෙි භවය)</h3>
    <video id="vidRight" autoplay playsinline></video>
    <canvas id="canvasRight"></canvas><br>
    <button id="startRight">📷 Start</button>
    <button id="captureRight">📸 Capture</button>
    <button id="miniReport">🔍 Mini Report</button>
    <button id="fullReport">📜 Full Report</button>
    <button id="torchRight">🔦 Torch</button>
  </div>
</div>

<p id="status">Initializing...</p>
<div id="reportBox">Report will appear here...</div>

<script type="module" src="./app.js"></script>

<!-- === report.js connection & logic === -->
<script type="module">
import { generateFusionReport } from './report.js';

const reportBox = document.getElementById("reportBox");
const statusEl  = document.getElementById("status");

// --- Demo data until real AI vision connected ---
const sampleData = {
  lines: [
    { name:"heart", strength:82 },
    { name:"head", strength:75 },
    { name:"life", strength:88 },
    { name:"fate", strength:66 },
    { name:"sun", strength:54 },
    { name:"health", strength:49 },
    { name:"marriage", strength:59 },
  ],
  aura:{ energy:"radiant" },
  mounts:[],
  anomalies:[]
};

// --- Mini Report ---
document.getElementById("miniReport").addEventListener("click", ()=>{
  reportBox.textContent =
  "🪶 Mini Report:\n" +
  "Heart Line: Expressive & kind nature.\n" +
  "Head Line: Balanced reason & intuition.\n" +
  "Life Line: Strong vitality.\n\n" +
  "For deeper karmic–dharma analysis, press 📜 Full Report.";
  statusEl.textContent = "✅ Mini Report generated";
});

// --- Full Report ---
document.getElementById("fullReport").addEventListener("click", ()=>{
  statusEl.textContent = "🔮 Analyzing deep fusion patterns...";
  setTimeout(()=>{
    const report = generateFusionReport(sampleData);
    reportBox.innerHTML = report;
    statusEl.textContent = "✅ Full AI Fusion Report generated";
  },1200);
});
</script>

</body>
</html>
