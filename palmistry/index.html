<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>üñêÔ∏è Sathyadarshana Quantum Palm Analyzer ¬∑ V12.3 + Options</title>
<style>
:root{
  --bg:#0b0f16;
  --card:#101820;
  --neon:#00e5ff;
  --pri:#16f0a7;
}
body{
  margin:0;
  background:var(--bg);
  color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;
  text-align:center;
}
h1{
  color:var(--neon);
  text-shadow:0 0 15px var(--neon);
  margin-top:18px;
  font-size:1.4rem;
}

/* camera area */
.camWrap{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  margin:20px auto;
  width:95%;
  max-width:700px;
}
.camBox{
  position:relative;
  width:320px;
  background:var(--card);
  border-radius:16px;
  padding:10px;
  box-shadow:0 0 20px #00e5ff22;
  overflow:hidden;
}
video{
  width:100%;
  border-radius:12px;
  background:#000;
}
.scanBeam{
  position:absolute;
  top:-100%;
  left:0;
  width:100%;
  height:100%;
  background:linear-gradient(180deg,transparent 0%,rgba(0,255,255,0.25) 50%,transparent 100%);
  animation:scanMove 3s linear infinite;
  pointer-events:none;
}
@keyframes scanMove{
  0%{top:-100%;}
  100%{top:100%;}
}
button{
  background:var(--neon);
  border:none;
  color:#000;
  font-weight:bold;
  padding:8px 16px;
  border-radius:8px;
  margin-top:8px;
}
button:hover{
  background:var(--pri);
  color:#fff;
}

/* OPTIONS PANEL */
.options{
  margin:20px auto;
  background:#101820;
  padding:15px;
  border-radius:12px;
  width:90%;
  max-width:680px;
  box-shadow:0 0 20px #00e5ff33 inset;
  text-align:left;
}
.options label{
  display:block;
  margin:8px 0 4px;
  color:#8bd;
  font-size:0.9rem;
}
.options select, .options input[type=range]{
  width:100%;
  background:#0d131b;
  color:#00e5ff;
  border:none;
  border-radius:6px;
  padding:6px;
}
.options input[type=checkbox]{
  transform:scale(1.3);
  margin-right:8px;
}

/* AI report box */
#reportBox{
  background:#0d131b;
  border-radius:14px;
  padding:12px;
  margin:20px auto;
  width:90%;
  max-width:640px;
  box-shadow:0 0 12px #00e5ff33 inset;
  text-align:left;
  font-size:0.9rem;
  line-height:1.5;
}
</style>
</head>
<body>
<h1>üïâÔ∏è Sathyadarshana Quantum Palm Analyzer ¬∑ V12.3</h1>

<div class="camWrap">
  <!-- Left Hand -->
  <div class="camBox" id="leftBox">
    <h3>Left Hand</h3>
    <video id="vidLeft" autoplay playsinline></video>
    <div class="scanBeam"></div>
    <button id="btnLeft">üì∏ Capture Left</button>
  </div>

  <!-- Right Hand -->
  <div class="camBox" id="rightBox">
    <h3>Right Hand</h3>
    <video id="vidRight" autoplay playsinline></video>
    <div class="scanBeam"></div>
    <button id="btnRight">üì∏ Capture Right</button>
  </div>
</div>

<!-- ‚öôÔ∏è OPTIONS PANEL -->
<div class="options">
  <h3>‚öôÔ∏è Analyzer Options</h3>
  <label>Analyzer Mode:</label>
  <select id="modeSel">
    <option value="basic">Basic Insight</option>
    <option value="advanced">Advanced Line Scan</option>
    <option value="divine">Divine Fusion (AI)</option>
  </select>

  <label>Language:</label>
  <select id="langSel">
    <option value="en">English</option>
    <option value="si">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</option>
    <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
  </select>

  <label>Brightness:</label>
  <input id="brightness" type="range" min="0.5" max="2" step="0.1" value="1">

  <label><input type="checkbox" id="autosave"> Auto Save Captures</label>
</div>

<div id="reportBox">
  <b>AI Insight:</b>
  <p id="reportText">Awaiting analysis...</p>
</div>

<script type="module">
import { initCamera } from "./modules/camera.js";

initCamera("vidLeft");
initCamera("vidRight");

const report = document.getElementById("reportText");
const bright = document.getElementById("brightness");
const autoSave = document.getElementById("autosave");
const langSel = document.getElementById("langSel");
const modeSel = document.getElementById("modeSel");

document.getElementById("btnLeft").onclick = ()=>{
  report.textContent = "üì∑ Captured left hand successfully.";
  saveIfEnabled("palmLeft");
};
document.getElementById("btnRight").onclick = ()=>{
  report.textContent = "üì∑ Captured right hand successfully.";
  saveIfEnabled("palmRight");
};

bright.oninput = ()=>{
  const val = bright.value;
  document.getElementById("vidLeft").style.filter = `brightness(${val})`;
  document.getElementById("vidRight").style.filter = `brightness(${val})`;
};

function saveIfEnabled(key){
  if(autoSave.checked){
    localStorage.setItem(key, Date.now());
    console.log("Auto-saved:", key);
  }
}

langSel.onchange = ()=>{
  report.textContent = `üåê Language set to ${langSel.options[langSel.selectedIndex].text}.`;
};
modeSel.onchange = ()=>{
  report.textContent = `üß† Analyzer mode: ${modeSel.value.toUpperCase()}.`;
};
</script>
</body>
</html>
