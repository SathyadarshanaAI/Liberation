<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>üñêÔ∏è Sathyadarshana Quantum Palm Analyzer ¬∑ Beam Edition</title>
<style>
:root{
  --bg:#0b0f16;
  --card:#101820;
  --neon:#00e5ff;
  --pri:#16f0a7;
}
body{
  margin:0;
  background:var(--bg);
  color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;
  text-align:center;
}
h1{
  color:var(--neon);
  text-shadow:0 0 15px var(--neon);
  margin-top:16px;
  font-size:1.4rem;
}
.camWrap{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  margin:20px auto;
}
.camCol{
  position:relative;
  background:var(--card);
  border-radius:16px;
  padding:14px;
  width:90%;
  max-width:340px;
  overflow:hidden; /* Beam confined */
  box-shadow:0 0 15px #00e5ff22;
}
video,canvas{
  width:100%;
  border-radius:12px;
  background:#000;
}
button{
  background:var(--neon);
  border:none;
  color:#000;
  font-weight:bold;
  padding:8px 16px;
  border-radius:8px;
  margin-top:8px;
}
.scanBeam{
  position:absolute;
  top:-100%;
  left:0;
  width:100%;
  height:100%;
  background:linear-gradient(180deg,transparent 0%,rgba(0,255,255,0.2) 50%,transparent 100%);
  animation:scanMove 3s linear infinite;
  pointer-events:none;
}
@keyframes scanMove{
  0%{top:-100%;}
  100%{top:100%;}
}
</style>
</head>
<body>
<h1>üïâÔ∏è Sathyadarshana Quantum Palm Analyzer</h1>

<div class="camWrap">
  <!-- Left Hand -->
  <div class="camCol" id="leftBox">
    <h3>Left Hand</h3>
    <video id="vidLeft" autoplay playsinline></video>
    <canvas id="canvasLeft" width="320" height="240"></canvas>
    <div class="scanBeam"></div>
    <button id="captureLeft">üì∑ Capture Left</button>
  </div>

  <!-- Right Hand -->
  <div class="camCol" id="rightBox">
    <h3>Right Hand</h3>
    <video id="vidRight" autoplay playsinline></video>
    <canvas id="canvasRight" width="320" height="240"></canvas>
    <div class="scanBeam"></div>
    <button id="captureRight">üì∑ Capture Right</button>
  </div>
</div>

<script>
const vidLeft = document.getElementById("vidLeft");
const vidRight = document.getElementById("vidRight");
const canvasLeft = document.getElementById("canvasLeft");
const canvasRight = document.getElementById("canvasRight");

// start cameras
async function startCam(videoEl){
  try{
    const stream = await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
    videoEl.srcObject = stream;
  }catch(e){
    alert("Camera error: "+e.message);
  }
}
startCam(vidLeft);
startCam(vidRight);

// capture and save
document.getElementById("captureLeft").onclick = ()=>{
  const ctx = canvasLeft.getContext("2d");
  ctx.drawImage(vidLeft,0,0,canvasLeft.width,canvasLeft.height);
  localStorage.setItem("palmLeft",canvasLeft.toDataURL("image/png"));
  stopScan("leftBox");
}
document.getElementById("captureRight").onclick = ()=>{
  const ctx = canvasRight.getContext("2d");
  ctx.drawImage(vidRight,0,0,canvasRight.width,canvasRight.height);
  localStorage.setItem("palmRight",canvasRight.toDataURL("image/png"));
  stopScan("rightBox");
}

// beam control
function startScan(boxId){
  document.querySelector(`#${boxId} .scanBeam`).style.display="block";
}
function stopScan(boxId){
  document.querySelector(`#${boxId} .scanBeam`).style.display="none";
}

// start scanning animation
startScan("leftBox");
startScan("rightBox");
</script>
</body>
</html>
