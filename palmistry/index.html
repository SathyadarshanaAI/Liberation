<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>🕉️ Sathyadarshana Quantum Palm Analyzer · V17.2 Multilingual Dharma Lock Edition</title>

<link rel="stylesheet" href="css/style.css">

<style>
body {
  margin:0;
  background:#0b0f16;
  color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;
  text-align:center;
}
h1 {
  color:#00e5ff;
  text-shadow:0 0 12px #00e5ff;
  margin-top:16px;
}
.wrap {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  margin:20px auto;
}
.camCol {
  position:relative;
  background:#101820;
  border-radius:14px;
  padding:12px;
  box-shadow:0 0 10px #00e5ff40;
}
video, canvas {
  width:300px;
  height:400px;
  border-radius:10px;
  border:1px solid #00e5ff40;
}
button {
  margin:5px;
  padding:6px 14px;
  border:none;
  border-radius:8px;
  background:#00e5ff;
  color:#0b0f16;
  font-weight:bold;
  cursor:pointer;
  transition:0.2s;
}
button:hover { background:#16f0a7; }
footer {
  margin-top:20px;
  font-size:0.9rem;
  color:#888;
}
.lockOverlay {
  position:absolute;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(0,0,0,0.65);
  color:#00e5ff;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:10px;
  font-size:1.2rem;
  letter-spacing:1px;
  animation:pulse 1.4s infinite alternate;
  z-index:9;
}
@keyframes pulse {
  from{opacity:0.5;}
  to{opacity:1;}
}

/* 🔤 Hide Google Toolbar */
.goog-te-banner-frame.skiptranslate {display:none!important;}
body { top:0!important; }
.goog-logo-link, .goog-te-gadget-icon {display:none!important;}
.goog-te-gadget-simple {background:none!important; border:none!important;}
/* 🌐 Floating button */
#google_translate_element {
  position:fixed;
  bottom:15px;
  right:15px;
  background:rgba(0,0,0,0.6);
  border:1px solid #00e5ff;
  border-radius:12px;
  padding:6px 12px;
  color:#e6f0ff;
  font-family:'Segoe UI',sans-serif;
  box-shadow:0 0 12px #00e5ff;
  z-index:9999;
}
</style>

<!-- 🌐 Google Translate Setup -->
<meta name="google" content="notranslate">
<script type="text/javascript">
function loadGoogleTranslate(){
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    includedLanguages: 'en,si,ta,hi,fr,de,es,ar,ja,zh,ru,it',
    layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL,
    autoDisplay: false
  }, 'google_translate_element');
}
</script>
<script src="https://translate.google.com/translate_a/element.js?cb=loadGoogleTranslate"></script>

<script type="module">
async function startCam(side){
  const vid=document.getElementById(side==="left"?"vidLeft":"vidRight");
  try{
    const st=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
    vid.srcObject=st;
    document.getElementById("status").textContent=`${side} camera started ✅`;
  }catch(err){
    document.getElementById("status").textContent=`❌ Camera error: ${err.message}`;
  }
}

async function capture(side){
  const vid=document.getElementById(side==="left"?"vidLeft":"vidRight");
  const cvs=document.getElementById(side==="left"?"canvasLeft":"canvasRight");
  const ctx=cvs.getContext("2d");
  ctx.drawImage(vid,0,0,cvs.width,cvs.height);

  const stream=vid.srcObject;
  if(stream){
    const tracks=stream.getTracks();
    tracks.forEach(t=>t.stop());
  }

  const parent=vid.parentElement;
  const overlay=document.createElement("div");
  overlay.className="lockOverlay";
  overlay.textContent="🔮 Analyzing…";
  parent.appendChild(overlay);

  setTimeout(()=>{
    overlay.textContent="✅ Captured & Locked";
    overlay.style.background="rgba(0,100,0,0.5)";
    overlay.style.animation="none";
    setTimeout(()=>overlay.remove(),1500);
  },3000);
}

window.addEventListener("DOMContentLoaded",()=>{
  document.getElementById("startCamLeft").onclick=()=>startCam("left");
  document.getElementById("captureLeft").onclick=()=>capture("left");
  document.getElementById("startCamRight").onclick=()=>startCam("right");
  document.getElementById("captureRight").onclick=()=>capture("right");
});
</script>
</head>

<body>
  <h1>🕉️ Sathyadarshana Quantum Palm Analyzer</h1>
  <p id="status">Initializing system...</p>

  <div class="wrap">
    <div class="camCol">
      <h3>Left Hand</h3>
      <video id="vidLeft" autoplay playsinline></video>
      <canvas id="canvasLeft" width="300" height="400"></canvas>
      <div>
        <button id="startCamLeft">📷 Start</button>
        <button id="captureLeft">📸 Capture</button>
      </div>
    </div>

    <div class="camCol">
      <h3>Right Hand</h3>
      <video id="vidRight" autoplay playsinline></video>
      <canvas id="canvasRight" width="300" height="400"></canvas>
      <div>
        <button id="startCamRight">📷 Start</button>
        <button id="captureRight">📸 Capture</button>
      </div>
    </div>
  </div>

  <div id="reportBox" class="reportBox">
    🪷 Your palms are being scanned by <b>AI Buddhi</b>...
  </div>

  <footer>© Sathyadarshana Dharma Vision · Built by Anuruddha & Buddhi</footer>

  <div id="google_translate_element">🌐 Translate</div>
</body>
</html>
