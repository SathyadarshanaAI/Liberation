<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Palmistry · Analyzer v4</title>
<link rel="stylesheet" href="./assets/css/theme.css"/>
<style>
.camWrap{position:relative;display:grid;place-items:center;max-width:560px;margin:auto}
video,canvas{width:100%;max-width:560px;border-radius:16px;border:2px solid #0e2a33;background:#000}
.aura{position:absolute;inset:0;border-radius:16px;pointer-events:none;filter:blur(28px) saturate(140%);opacity:.85;mix-blend-mode:screen;
  background:conic-gradient(from 0deg, #00e5ff55, #16f0a755, #9a6bff55, #00e5ff55);animation:aura 6s linear infinite}
@keyframes aura{to{transform:rotate(360deg)}}
.bar>span{transform:scaleX(0)}
.glowBtn{position:relative;overflow:hidden}
.glowBtn.success::after{content:\"\";position:absolute;inset:-2px;border-radius:16px;background:conic-gradient(from 0deg,#00e5ff,#16f0a7,#9a6bff,#00e5ff);filter:blur(12px);opacity:.8;animation:aura 3s linear infinite}
#insight{min-height:96px;background:#0b1320;border:1px solid #17324a;border-radius:12px;padding:10px}
.type{white-space:pre-wrap}
</style>
</head><body>
<h1>Quantum Palm Analyzer v4</h1>
<div class="sub">Left=<b>Past</b> · Right=<b>Present</b> · ΔK ready</div>
<nav>
  <a class="btn" href="./pages/results.html">Results & PairView</a>
</nav>

<div class="wrap">
  <section class="card">
    <div class="row">
      <label for="hand">Hand</label>
      <select id="hand"><option value="left">Left (Past)</option><option value="right">Right (Present)</option></select>
      <span class="badge">Engine v4</span>
      <span class="tip">Diffuse daylight • neutral bg • 40–50cm</span>
    </div>
    <div class="row">
      <button class="btn" id="newPair">New Session</button>
      <button class="btn" id="reusePair">Continue Session</button>
      <span class="badge" id="pairCode">pair: —</span>
    </div>
    <div class="row">
      <button class="btn" id="startCam">Start Camera</button>
      <button class="btn" id="capBtn">Capture</button>
      <label class="btn" for="filePick" style="display:inline-block">Upload Photo</label>
      <input id="filePick" type="file" accept="image/*" style="display:none"/>
      <button class="btn" id="clear">Clear</button>
    </div>
    <div class="camWrap">
      <video id="video" playsinline autoplay muted></video>
      <canvas id="preview" width="560" height="340"></canvas>
      <div class="aura" aria-hidden="true"></div>
    </div>
    <div class="tip" id="placeholder" style="text-align:center;margin-top:6px">No image yet.</div>
  </section>

  <section class="card">
    <div class="row"><button class="btn" id="analyze">Analyze</button><button class="btn glowBtn" id="save">Save to Results</button></div>
    <div class="kv"><b>Confidence</b><div class="badge" id="confBadge">—</div></div>
    <div class="kv"><span>Heart</span><div class="bar"><span id="bHeart"></span></div></div>
    <div class="kv"><span>Head</span><div class="bar"><span id="bHead"></span></div></div>
    <div class="kv"><span>Life</span><div class="bar"><span id="bLife"></span></div></div>
    <div class="kv"><span>Fate</span><div class="bar"><span id="bFate"></span></div></div>
    <div class="kv"><span>Sun</span><div class="bar"><span id="bSun"></span></div></div>
    <div class="kv"><span>Mercury</span><div class="bar"><span id="bMerc"></span></div></div>
    <div class="kv"><span>Marriage</span><div class="bar"><span id="bMar"></span></div></div>
    <hr/><div id="insight"><div class="type" id="typeBox">Run Analyze to generate insight…</div></div>
  </section>
</div>

<script type="module" src="./assets/js/analyzer_v4.js"></script>
</body></html>
