<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
<title>Quantum Palm Analyzer v5.1 Â· Sathyadarshana</title>
<link rel="icon" href="./assets/favicon.png">
<style>
:root{--bg:#0b0f16;--pri:#16f0a7;--neon:#00e5ff;--card:#0f172a;--muted:#9fb3c8}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:#e6f0ff;font-family:system-ui;text-align:center}
h1{margin:16px 0 8px;color:var(--neon)}
small{opacity:.9}
.container{max-width:960px;margin:0 auto;padding:10px}
.surface{position:relative;display:inline-block}
video,canvas{width:92vw;max-width:460px;border-radius:18px;border:2px solid var(--pri);background:#000}
canvas.capture{display:block;margin:auto}
.controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin:12px 0}
.btn{
  background:#101828;border:1px solid var(--neon);color:var(--neon);
  padding:10px 14px;border-radius:16px;font-weight:700;text-decoration:none;cursor:pointer
}
.btn:hover{background:var(--neon);color:#000}
.card{background:var(--card);border:1px solid #1b2a41;border-radius:18px;padding:12px 14px;margin:12px auto;max-width:680px;text-align:left}
.card h3{margin:4px 0 8px;color:#9be8ff}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
label.switch{display:inline-flex;align-items:center;gap:8px;font-size:14px;color:#cde7ff}
hr{border:0;height:1px;background:#1b2a41;margin:10px 0}
.badge{display:inline-block;border:1px solid var(--pri);padding:2px 8px;border-radius:999px;color:#8dfcd4}
footer{opacity:.75;margin:12px 0}
.kbd{padding:2px 6px;border:1px solid #334155;border-radius:6px;background:#0b1220;font-family:ui-monospace}
</style>
</head>
<body>
  <header class="container">
    <h1>Quantum Palm Analyzer <span class="badge">v5.1</span></h1>
    <small>Wrist Region Enhanced Â· Mask Tighten Â· Rascetta as Primary Line</small>
  </header>

  <main class="container">
    <div class="surface">
      <video id="video" playsinline></video>
      <canvas id="preview" class="capture"></canvas>
      <canvas id="mask" class="capture" style="position:absolute;left:0;top:0;opacity:.55;pointer-events:none"></canvas>
      <canvas id="edges" class="capture" style="position:absolute;left:0;top:0;opacity:.85;pointer-events:none"></canvas>
    </div>

    <div class="controls">
      <button class="btn" id="open">Open Camera</button>
      <button class="btn" id="snap">Snap & Analyze</button>
      <button class="btn" id="save">Save Image</button>
      <button class="btn" id="reset">Reset</button>
      <button class="btn" id="close">Close</button>
    </div>

    <div class="controls">
      <label class="switch"><input type="checkbox" id="showMask" checked/> Show Mask</label>
      <label class="switch"><input type="checkbox" id="showEdges" checked/> Show Lines</label>
      <label class="switch"><input type="checkbox" id="tightMask" checked/> Tight Mask (v5.1)</label>
      <label class="switch"><input type="checkbox" id="wristBoost" checked/> Wrist Boost</label>
    </div>

    <section class="card">
      <h3>Scan Result</h3>
      <div class="grid">
        <div>
          <div id="handMeta"></div>
          <div id="camMeta" style="color:var(--muted)"></div>
          <div id="tip" style="margin-top:6px"></div>
        </div>
        <div>
          <strong>Detected Lines</strong>
          <div id="linesList" style="margin-top:6px"></div>
        </div>
      </div>
      <hr/>
      <strong>Wrist (Rascetta) Analysis</strong>
      <div id="wristReport" style="margin-top:6px"></div>
    </section>

    <a class="btn" href="./palmistry/index.html?v=510">ðŸ”® Open Quantum Palm Analyzer v5.1</a>
  </main>

  <footer>
    <small>Tip: keep palm centered, wrist fully inside the frame. Avoid patterned backgrounds; use plain cloth.</small>
  </footer>

  <!-- OpenCV.js for edge detection (loads ~1.5â€“2MB) -->
  <script async src="https://docs.opencv.org/4.x/opencv.js"></script>

  <!-- v5.1 app -->
  <script src="./app.js?v=5.1"></script>
</body>
</html>