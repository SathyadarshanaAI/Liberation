<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<title>üïâÔ∏è THE SEED ¬∑ Universal Palmistry AI</title>

<style>
html { font-size: clamp(14px, 2vw, 17px); }
body {
  background: radial-gradient(circle at center, #111, #000);
  color: #eee;
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  padding: 20px 0 50px 0;
  text-align: center;
}
h1 {
  color: #00eaff;
  font-size: 1.6rem;
  text-shadow: 0 0 8px #00eaff;
  margin-bottom: 15px;
}

/* Language Selector */
#languageSelect {
  width: 90%;
  max-width: 300px;
  padding: 10px;
  border-radius: 8px;
  background: #111;
  color: #00eaff;
  border: 1px solid #00eaff;
  box-shadow: 0 0 8px #00eaff55;
  margin-bottom: 18px;
  font-size: 0.9rem;
}

/* Camera Selector Buttons */
.cameraSelector {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 15px;
}
.cameraSelector button {
  background: linear-gradient(90deg, #00eaff, #0099cc);
  padding: 10px 14px;
  border-radius: 30px;
  border: none;
  color: #000;
  font-weight: bold;
  cursor: pointer;
  box-shadow: 0 0 10px #00eaff88;
  font-size: 0.9rem;
}

/* Camera Window */
.camBox {
  width: 92%;
  max-width: 360px;
  margin: 0 auto 20px auto;
  position: relative;
  border-radius: 14px;
  overflow: hidden;
  border: 2px solid #00eaff;
  box-shadow: 0 0 20px rgba(0,255,255,0.3);
}
video {
  width: 100%;
  height: 380px;
  object-fit: cover;
  border-radius: 14px;
  background: #000;
}

#handOverlay {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 70%;
  opacity: 0.35;
  transform: translate(-50%, -50%);
  pointer-events: none;
  filter: drop-shadow(0 0 12px #00eaff);
}

#handMessage {
  position: absolute;
  bottom: 0;
  width: 100%;
  padding: 8px;
  background: rgba(0,0,0,0.5);
  color: #00eaff;
  font-size: 0.92rem;
  font-weight: 600;
  border-top: 1px solid #00eaff77;
  backdrop-filter: blur(5px);
  pointer-events: none;
  line-height: 1.3rem;
}

button.actionBtn {
  background: linear-gradient(90deg,#00eaff,#0099cc);
  padding: 12px 20px;
  border-radius: 40px;
  border: none;
  color: #000;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  width: 85%;
  max-width: 300px;
  margin-bottom: 15px;
  box-shadow: 0 0 15px rgba(0,255,255,0.5);
}

#output {
  width: 92%;
  max-width: 480px;
  margin: 10px auto;
  padding: 15px;
  background: rgba(255,255,255,0.04);
  border-radius: 12px;
  border: 1px solid #00eaff33;
  color: #0ff;
  text-align: left;
  white-space: pre-wrap;
  max-height: 250px;
  overflow-y: auto;
  font-size: 0.92rem;
}

/* User Form */
#userForm {
  width: 92%;
  max-width: 420px;
  margin: 25px auto;
  background: rgba(255,255,255,0.06);
  padding: 20px;
  border-radius: 12px;
  border: 1px solid #00eaff55;
  box-shadow: 0 0 15px rgba(0,255,255,0.2);
  text-align: left;
  display: none;
}
#userForm label {
  color: #00eaff;
  font-size: 0.9rem;
  margin-top: 10px;
  display: block;
}
#userForm input, #userForm select {
  width: 100%;
  padding: 10px;
  background: rgba(0,0,0,0.6);
  border: 1px solid #00eaff55;
  border-radius: 8px;
  color: #00eaff;
  margin-top: 5px;
}
</style>
</head>

<body>

<h1>üïâÔ∏è THE SEED ¬∑ Universal Palmistry AI</h1>

<select id="languageSelect" onchange="setLanguage()"></select>

<div class="cameraSelector">
  <button onclick="switchCamera('environment')">üì∑ Rear Camera</button>
  <button onclick="switchCamera('user')">ü§≥ Front Camera</button>
</div>

<div class="camBox">
  <video id="video" autoplay playsinline muted></video>
  <img id="handOverlay" src="assets/palm-overlay.png">
  <div id="handMessage">Select a language to begin.</div>
</div>

<button class="actionBtn" onclick="startCamera()">Open Camera</button>
<button class="actionBtn" onclick="captureAndAnalyze()">Scan Hand</button>

<div id="output">Awaiting analysis...</div>

<!-- USER FORM (RESTORED) -->
<div id="userForm">
  <label>Full Name</label>
  <input id="fullName"/>

  <label>Gender</label>
  <select id="gender">
    <option>Male</option>
    <option>Female</option>
    <option>Other</option>
  </select>

  <label>Date of Birth</label>
  <input type="date" id="dob"/>

  <label>Identification Document Type</label>
  <select id="idType">
    <option>National ID</option>
    <option>Passport</option>
    <option>Driving License</option>
    <option>Residency Permit</option>
    <option>Citizen ID</option>
    <option>Other</option>
  </select>

  <label>ID Number</label>
  <input id="idNumber"/>

  <label>Country of Issue</label>
  <select id="countrySelect"></select>

  <button class="actionBtn" onclick="submitUserForm()">Submit</button>
</div>

<script>
/* ------------------- LANGUAGE SYSTEM ------------------- */

const languages = {
  en:{msg:"Position your hand in front of the camera as shown in the guide.",step:"First scan your left hand, then your right hand.",open:"Open Camera",scan:"Scan Hand"},
  si:{msg:"‡∂±‡∑í‡∂Ø‡∂ª‡∑ä‡∑Å‡∂ö‡∂∫‡∑ö ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∂± ‡∂¥‡∂ª‡∑í‡∂Ø‡∑í ‡∂î‡∂∂‡∑ö ‡∂Ö‡∂≠ ‡∂ö‡∑ê‡∂∏‡∂ª‡∑è‡∑Ä ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∑ö ‡∂≠‡∂∂‡∂±‡∑ä‡∂±.",step:"‡∂¥‡∑Ö‡∂∏‡∑î‡∑Ä ‡∑Ä‡∂∏‡∑ä ‡∂Ö‡∂≠, ‡∂¥‡∑É‡∑î‡∑Ä ‡∂Ø‡∂ö‡∑î‡∂´‡∑î ‡∂Ö‡∂≠ scan ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.",open:"‡∂ö‡∑ê‡∂∏‡∂ª‡∑è ‡∑Ä‡∑í‡∑Ä‡∑ò‡∂≠ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±",scan:"‡∂Ö‡∂≠‡∑ä ‡∂¥‡∂ª‡∑ì‡∂ö‡∑ä‡∑Ç‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±"},
  ta:{msg:"‡Æµ‡Æ¥‡Æø‡Æï‡Ææ‡Æü‡Øç‡Æü‡Æø‡ÆØ‡Æø‡Æ≤‡Øç ‡Æï‡Ææ‡Æü‡Øç‡Æü‡Æø‡ÆØ‡Æ™‡Æü‡Æø ‡Æï‡Øà‡ÆØ‡Øà ‡Æï‡Øá‡ÆÆ‡Æ∞‡Ææ ‡ÆÆ‡ØÅ‡Æ©‡Øç‡Æ©‡Ææ‡Æ≤‡Øç ‡Æµ‡Øà‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",step:"‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Æø‡Æ≤‡Øç ‡Æá‡Æü‡Æ§‡ØÅ ‡Æï‡Øà, ‡Æ™‡Æø‡Æ©‡Øç‡Æ©‡Æ∞‡Øç ‡Æµ‡Æ≤‡Æ§‡ØÅ ‡Æï‡Øà ‡Æ∏‡Øç‡Æï‡Øá‡Æ©‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",open:"‡Æï‡Øá‡ÆÆ‡Æ∞‡Ææ ‡Æ§‡Æø‡Æ±‡Æï‡Øç‡Æï",scan:"‡Æï‡Øà ‡Æ∏‡Øç‡Æï‡Øá‡Æ©‡Øç ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ"},
  hi:{msg:"‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§ï ‡§ï‡•á ‡§Ö‡§®‡•Å‡§∏‡§æ‡§∞ ‡§Ö‡§™‡§®‡§æ ‡§π‡§æ‡§• ‡§ï‡•à‡§Æ‡§∞‡•á ‡§ï‡•á ‡§∏‡§æ‡§Æ‡§®‡•á ‡§∞‡§ñ‡•á‡§Ç.",step:"‡§™‡§π‡§≤‡•á ‡§¨‡§æ‡§Ø‡§æ‡§Å ‡§π‡§æ‡§•, ‡§´‡§ø‡§∞ ‡§¶‡§æ‡§Ø‡§æ‡§Å ‡§π‡§æ‡§• ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç.",open:"‡§ï‡•à‡§Æ‡§∞‡§æ ‡§ñ‡•ã‡§≤‡•á‡§Ç",scan:"‡§π‡§æ‡§• ‡§∏‡•ç‡§ï‡•à‡§® ‡§ï‡§∞‡•á‡§Ç"},
  te:{msg:"‡∞ö‡±Ç‡∞™‡∞ø‡∞®‡∞ü‡±ç‡∞≤‡±Å ‡∞Æ‡±Ä ‡∞ö‡±Ü‡∞Ø‡±ç‡∞Ø‡∞ø‡∞®‡∞ø ‡∞ï‡±Ü‡∞Æ‡±Ü‡∞∞‡∞æ ‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø.",step:"‡∞Æ‡±Å‡∞Ç‡∞¶‡±Å ‡∞é‡∞°‡∞Æ ‡∞ö‡±Ü‡∞Ø‡±ç‡∞Ø‡∞ø, ‡∞§‡∞∞‡±ç‡∞µ‡∞æ‡∞§ ‡∞ï‡±Å‡∞°‡∞ø ‡∞ö‡±Ü‡∞Ø‡±ç‡∞Ø‡∞ø.",open:"‡∞ï‡±Ü‡∞Æ‡±á‡∞∞‡∞æ ‡∞ì‡∞™‡±Ü‡∞®‡±ç",scan:"‡∞ö‡±á‡∞Ø‡∞ø ‡∞∏‡±ç‡∞ï‡∞æ‡∞®‡±ç"},
  kn:{msg:"‡≤Æ‡≤æ‡≤∞‡≥ç‡≤ó‡≤¶‡≤∞‡≥ç‡≤∂‡≤ï‡≤¶‡≤Ç‡≤§‡≥Ü ‡≤ï‡≥à‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≥ç‡≤Ø‡≤æ‡≤Æ‡≥Ü‡≤∞‡≤æ ‡≤Æ‡≥Å‡≤Ç‡≤¶‡≥Ü ‡≤á‡≤°‡≤ø.",step:"‡≤Æ‡≥ä‡≤¶‡≤≤‡≤ø‡≤ó‡≥Ü ‡≤é‡≤° ‡≤ï‡≥à, ‡≤®‡≤Ç‡≤§‡≤∞ ‡≤¨‡≤≤ ‡≤ï‡≥à.",open:"‡≤ï‡≥ç‡≤Ø‡≤æ‡≤Æ‡≥Ü‡≤∞‡≤æ ‡≤ì‡≤™‡≤®‡≥ç",scan:"‡≤ï‡≥à ‡≤∏‡≥ç‡≤ï‡≥ç‡≤Ø‡≤æ‡≤®‡≥ç"},
  ml:{msg:"‡¥Æ‡¥æ‡µº‡¥ó‡µç‡¥ó‡¥®‡¥ø‡µº‡¥¶‡µç‡¥¶‡µá‡¥∂‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥™‡¥±‡¥Ø‡µÅ‡¥®‡µç‡¥®‡¥™‡µã‡¥≤‡µÜ ‡¥ï‡µà ‡¥ï‡µç‡¥Ø‡¥æ‡¥Æ‡¥±‡¥Ø‡µç‚Äå‡¥ï‡µç‡¥ï‡µç ‡¥Æ‡µÅ‡µª‡¥™‡¥ø‡µΩ ‡¥µ‡¥Ø‡µç‡¥ï‡µç‡¥ï‡µÅ‡¥ï.",step:"‡¥Ü‡¥¶‡µç‡¥Ø‡¥Ç ‡¥á‡¥ü‡¥§‡µç ‡¥ï‡µà, ‡¥™‡¥ø‡¥®‡µç‡¥®‡µÜ ‡¥µ‡¥≤‡¥§‡µç ‡¥ï‡µà.",open:"‡¥ï‡µç‡¥Ø‡¥æ‡¥Æ‡¥± ‡¥§‡µÅ‡¥±‡¥ï‡µç‡¥ï‡µÅ‡¥ï",scan:"‡¥ï‡µà ‡¥∏‡µç‡¥ï‡¥æ‡µª"},
  bn:{msg:"‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂‡¶ø‡¶ï‡¶æ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶π‡¶æ‡¶§ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®.",step:"‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶¨‡¶æ‡¶Æ ‡¶π‡¶æ‡¶§, ‡¶™‡¶∞‡ßá ‡¶°‡¶æ‡¶® ‡¶π‡¶æ‡¶§ ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®.",open:"‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶ñ‡ßÅ‡¶≤‡ßÅ‡¶®",scan:"‡¶π‡¶æ‡¶§ ‡¶∏‡ßç‡¶ï‡ßç‡¶Ø‡¶æ‡¶®"},
  zh:{msg:"ËØ∑Â∞ÜÊâãÊîæÂú®ÊëÑÂÉèÂ§¥ÂâçÔºåÂ¶ÇÊåáÁ§∫ÂõæÊâÄÁ§∫„ÄÇ",step:"ÂÖàÊâ´ÊèèÂ∑¶ÊâãÔºåÂÜçÊâ´ÊèèÂè≥Êâã„ÄÇ",open:"ÊâìÂºÄÁõ∏Êú∫",scan:"Êâ´ÊèèÊâãÊéå"},
  ja:{msg:"„Ç¨„Ç§„Éâ„ÅÆ„Çà„ÅÜ„Å´Êâã„Çí„Ç´„É°„É©„ÅÆÂâç„Å∏ÁΩÆ„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ.",step:"„Åæ„ÅöÂ∑¶Êâã„ÄÅÊ¨°„Å´Âè≥Êâã„Çí„Çπ„Ç≠„É£„É≥„ÄÇ",open:"„Ç´„É°„É©„ÇíÈñã„Åè",scan:"Êâã„Çí„Çπ„Ç≠„É£„É≥"},
  ar:{msg:"ÿ∂ÿπ ŸäÿØŸÉ ÿ£ŸÖÿßŸÖ ÿßŸÑŸÉÿßŸÖŸäÿ±ÿß ŸÉŸÖÿß ŸáŸà ŸÖŸàÿ∂ÿ≠.",step:"ÿßŸÖÿ≥ÿ≠ ŸäÿØŸÉ ÿßŸÑŸäÿ≥ÿ±Ÿâ ÿ£ŸàŸÑÿßŸã ÿ´ŸÖ ÿßŸÑŸäŸÖŸÜŸâ.",open:"ÿßŸÅÿ™ÿ≠ ÿßŸÑŸÉÿßŸÖŸäÿ±ÿß",scan:"ŸÖÿ≥ÿ≠ ÿßŸÑŸäÿØ"},
  es:{msg:"Coloca tu mano frente a la c√°mara como en la gu√≠a.",step:"Primero la mano izquierda, luego la derecha.",open:"Abrir C√°mara",scan:"Escanear Mano"}
};

function populateLanguages(){
  let select=document.getElementById("languageSelect");
  Object.keys(languages).forEach(l=>{
    let o=document.createElement("option");
    o.value=l;o.text=l.toUpperCase();
    select.appendChild(o);
  });
}
populateLanguages();

function setLanguage(){
  let lang=document.getElementById("languageSelect").value;
  if(!lang) return;

  document.getElementById("handMessage").innerHTML=
    languages[lang].msg+"<br>"+languages[lang].step;

  document.querySelectorAll(".actionBtn")[0].textContent=
    languages[lang].open;

  document.querySelectorAll(".actionBtn")[1].textContent=
    languages[lang].scan;
}

/* ---------------------- CAMERA ENGINE ---------------------- */

let currentStream=null;

async function switchCamera(mode){
  if(currentStream) currentStream.getTracks().forEach(t=>t.stop());

  const video=document.getElementById("video");

  const constraints={
    audio:false,
    video:{
      facingMode:mode,
      width:{ideal:1280},
      height:{ideal:720}
    }
  };

  try{
    currentStream=await navigator.mediaDevices.getUserMedia(constraints);
  }catch(e1){
    try{
      currentStream=await navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:mode}}});
    }catch(e2){
      currentStream=await navigator.mediaDevices.getUserMedia({video:true});
    }
  }

  video.srcObject=currentStream;
  video.muted=true;
  video.playsInline=true;
  await video.play();
}

async function startCamera(){ switchCamera("environment"); }

/* ---------------------- SCAN EVENT ---------------------- */

function captureAndAnalyze(){
  const video=document.getElementById("video");

  if(!video.srcObject){ alert("Camera is not active."); return; }

  const canvas=document.createElement("canvas");
  canvas.width=video.videoWidth;
  canvas.height=video.videoHeight;

  canvas.getContext("2d").drawImage(video,0,0);

  document.getElementById("output").textContent=
    "Palm scan complete.\nProcessing data...";

  showUserForm();
}

/* ---------------------- USER FORM ---------------------- */

function showUserForm(){
  document.getElementById("userForm").style.display="block";
}

function submitUserForm(){
  alert("Information submitted successfully.");
}

/* ---------------------- COUNTRY LIST ---------------------- */

const countries=[
"Sri Lanka","India","Japan","China","United States","United Kingdom","Singapore","Australia",
"Canada","Saudi Arabia","UAE","Bangladesh","Nepal","Pakistan","France","Germany","Italy",
"Spain","Malaysia","Indonesia","Brazil","Mexico","South Africa","Russia"
];

countries.forEach(c=>{
  let o=document.createElement("option");
  o.text=c;
  document.getElementById("countrySelect").appendChild(o);
});
</script>

</body>
</html>
